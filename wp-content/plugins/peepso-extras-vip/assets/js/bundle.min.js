!function r(a,u,d){function f(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=u[t]={exports:{}};a[t][0].call(i.exports,function(e){return f(a[t][1][e]||e)},i,i.exports,r,a,u,d)}return u[t].exports}for(var l="function"==typeof require&&require,e=0;e<d.length;e++)f(d[e]);return f}({1:[function(a,e,t){(function(e){"use strict";var t=r("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}("undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null),o="undefined"!=typeof window?window.peepsodata:void 0!==e?e.peepsodata:null,i=r(a("./popover"));function r(e){return e&&e.__esModule?e:{default:e}}(0,t.default)(function(r){var a=n.default.template(o.vip.hovercardTemplate);n.observer.addAction("hovercard_update_html",function(e,t){var n=e.find(".ps-hovercard").removeClass("ps-hovercard--full"),o=n.find(".ps-js-cover"),i=o.siblings(".ps-js-vip");i.length&&i.remove(),_.isObject(t.vip)&&!_.isArray(t.vip)&&(n.addClass("ps-hovercard--full"),(i=r(a(t)).addClass("ps-js-vip")).insertAfter(o))},10,2),o.vip.popoverEnable&&r(document).on("mouseenter",".ps-js-vip-badge",function(e){var t=r(e.currentTarget);if(!t.data("ps-vip")){var n=t.data("id"),o=new i.default(t[0],n);t.data("ps-vip",o),o.show(e)}})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./popover":2}],2:[function(e,t,c){(function(e){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t,i,a,u=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}}("undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null),d="undefined"!=typeof window?window.peepsodata:void 0!==e?e.peepsodata:null;function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=o.default.template(d.vip.popoverTemplate);function p(e,t){if(clearTimeout(a),(i=i||((i=(0,u.default)("<div />")).addClass("ps-vip-dropdown__wrapper"),i.css({display:"none",position:"absolute"}),i.appendTo(document.body),i)).html(r(e)).show(),t){var n=(0,u.default)(t),o=n.offset();i.css({left:o.left,top:o.top+n.height()})}}var n=function(){function r(e,t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),l(this,"timer",void 0),this.id=t,this.$elem=(0,u.default)(e),this.$elem.on("mouseenter",function(e){e.stopPropagation(),n.show(e)}),this.$elem.on("mouseleave",function(e){e.stopPropagation(),n.hide()}),this.$elem.removeAttr("title")}var e,t,n;return e=r,(t=[{key:"getData",value:function(){var i=this;return new o.Promise(function(t,n){var o=r.cache[i.id];o?t(o):u.default.get({url:d.ajaxurl,dataType:"json",data:{action:"peepso_vip_user_icons",user_id:i.id}}).done(function(e){e?(o=r.cache[i.id]=e,t(o)):n()})})}},{key:"show",value:function(e){var n=this;this.timer=setTimeout(function(){var t=setTimeout(function(){p("loading",n.$elem.get(0))},500);n.getData().then(function(e){clearTimeout(t),n.timer&&p(e,n.$elem.get(0))})},300)}},{key:"hide",value:function(){clearTimeout(this.timer),this.timer=null,i&&(a=setTimeout(function(){i.hide()},200))}}])&&f(e.prototype,t),n&&f(e,n),r}();l(n,"cache",{});var s=n;c.default=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);